<div *ngIf="!selectedSurvey" class="interview-table">
    <div class="header">
      <!-- <h2>All Surveys</h2> -->
      <div class="flex1">
         <div class="filter" (click)="toggleFilterDropdown()">
      <i class="pi pi-filter"></i>
      <ul class="menu-list" *ngIf="showFilterDropdown">
        <li class="list" *ngFor="let option of filterOptions" (click)="selectFilter(option); $event.stopPropagation()"
          [ngClass]="{ 'active': selectedFilter?.value === option.value }">
          {{ option.label }}
        </li>
      </ul>
    </div>

    <p-iconfield>
      <p-inputicon class="pi pi-search" />
      <input type="text" pInputText placeholder="Search" (input)="onSearch($event)" />
    </p-iconfield>
      </div>
    </div>

    <p-table [value]="filterSurveyData" [paginator]="true" [rows]="10" [loading]="loading">
      <ng-template pTemplate="header">
        <tr>
          <th>No</th>
          <th>Employee ID</th>
          <th>Employee Name</th>
          <th>Department</th>
          <th>Submitted Date</th>
          <th>Action</th>
        </tr>
      </ng-template>
  
      <ng-template pTemplate="body" let-survey let-i="rowIndex">
        <tr>
          <td>{{ i + 1 }}</td>
          <td>{{ survey.employee.employeeCode }}</td>
          <td>{{ survey.employee.firstName }} {{ survey.employee.lastName }}</td>
          <td>{{ survey.employee.Department?.name || '-' }}</td>
          <td>{{ survey.date | date:'dd-MM-yyyy' }}</td>
          <td>
            <button pButton label="View" (click)="openSurvey(survey)"></button>
          </td>
        </tr>
      </ng-template>
    </p-table>
  </div>
  
  <div *ngIf="selectedSurvey">
    <app-survey-form
      [surveyData]="selectedSurvey"
      (closeForm)="closeSurvey()"
    ></app-survey-form>
  </div>
  