<div class="nav-bar-container">
    <header class="header">
        <div class="header-top">
            <div class="logo">
                <span class="logo-red">HR</span> MINDS
            </div>



            <div class="header-actions">
                <div class="bell">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">
                        <path fill-rule="evenodd" clip-rule="evenodd"
                            d="M9.99994 1.32828C8.3419 1.32828 6.75176 1.98693 5.57935 3.15935C4.40693 4.33176 3.74828 5.9219 3.74828 7.57994V8.14784C3.74823 8.71 3.58179 9.25957 3.26992 9.72729L2.34468 11.1172C1.26858 12.7305 2.08977 14.923 3.96043 15.4328C4.56973 15.599 5.18388 15.7396 5.80286 15.8547L5.80447 15.8588C6.42399 17.514 8.08169 18.6716 9.99994 18.6716C11.9182 18.6716 13.5759 17.514 14.1962 15.8588L14.1978 15.8547C14.8174 15.739 15.4321 15.5982 16.0403 15.4328C17.9109 14.923 18.7321 12.7305 17.656 11.1172L16.73 9.72729C16.4181 9.25957 16.2517 8.71 16.2516 8.14784V7.57994C16.2516 5.9219 15.593 4.33176 14.4205 3.15935C13.2481 1.98693 11.658 1.32828 9.99994 1.32828ZM12.7233 16.0798C10.9139 16.2957 9.08522 16.2957 7.27583 16.0798C7.84937 16.9034 8.84722 17.4616 9.99994 17.4616C11.1527 17.4616 12.1497 16.9034 12.7233 16.0798ZM4.95828 7.57994C4.95828 6.24281 5.48945 4.96044 6.43495 4.01495C7.38044 3.06945 8.66281 2.53828 9.99994 2.53828C11.3371 2.53828 12.6194 3.06945 13.5649 4.01495C14.5104 4.96044 15.0416 6.24281 15.0416 7.57994V8.14784C15.0416 8.94886 15.2788 9.73213 15.7232 10.3984L16.6493 11.7883C16.7928 12.0032 16.8831 12.2492 16.9128 12.5059C16.9425 12.7626 16.9108 13.0226 16.8202 13.2646C16.7295 13.5066 16.5827 13.7236 16.3917 13.8976C16.2006 14.0717 15.971 14.1978 15.7216 14.2656C11.9753 15.2873 8.02377 15.2873 4.27745 14.2656C4.02822 14.1978 3.79868 14.0717 3.60777 13.8977C3.41686 13.7237 3.27005 13.5068 3.17944 13.2649C3.08884 13.023 3.05703 12.7631 3.08665 12.5065C3.11626 12.2499 3.20646 12.004 3.34978 11.7891L4.27745 10.3984C4.72155 9.73188 4.95844 8.94879 4.95828 8.14784V7.57994Z"
                            fill="#ADADAD" />
                    </svg>
                </div>
                <div class="profile" [class.active]="isOpen">
                    <div class="user-profile"   (click)="toggleDropdown($event)">
                        <div class="flex">
                            <img src="https://i.pravatar.cc/40" alt="User Avatar" class="avatar" />
                            <span class="username">{{username}}</span>
                            <i *ngIf="!isOpen" class="pi pi-chevron-down" (click)="toggleDropdown($event)"></i>
                            <i *ngIf="isOpen" class="pi pi-chevron-up" (click)="toggleDropdown($event)"></i>
                        </div>

                        
                        <div class="dropdown" *ngIf="isOpen" [ngClass]="{ 'active': isOpen }">

                            <div class="dropdown-profile" (click)="goToProfile()" routerLink="/settings">
                                <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 14 14"
                                    fill="none">
                                    <path
                                        d="M1 11.5C1 10.7044 1.31607 9.94129 1.87868 9.37868C2.44129 8.81607 3.20435 8.5 4 8.5H10C10.7956 8.5 11.5587 8.81607 12.1213 9.37868C12.6839 9.94129 13 10.7044 13 11.5C13 11.8978 12.842 12.2794 12.5607 12.5607C12.2794 12.842 11.8978 13 11.5 13H2.5C2.10218 13 1.72064 12.842 1.43934 12.5607C1.15804 12.2794 1 11.8978 1 11.5Z"
                                        stroke="black" stroke-width="1.2" stroke-linejoin="round" />
                                    <path
                                        d="M7 5.5C8.24264 5.5 9.25 4.49264 9.25 3.25C9.25 2.00736 8.24264 1 7 1C5.75736 1 4.75 2.00736 4.75 3.25C4.75 4.49264 5.75736 5.5 7 5.5Z"
                                        stroke="black" stroke-width="1.2" />
                                </svg>
                                <div class="sub-heading">Profile Settings</div>
                            </div>

                            

                            <div class="log-out" (click)="openLogoutPopup()">
                                <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 12 12"
                                    fill="none">
                                    <path
                                        d="M1.34896 1.33333H5.39585C5.76681 1.33333 6.07033 1.03333 6.07033 0.666667C6.07033 0.3 5.76681 0 5.39585 0H1.34896C0.607033 0 0 0.6 0 1.33333V10.6667C0 11.4 0.607033 12 1.34896 12H5.39585C5.76681 12 6.07033 11.7 6.07033 11.3333C6.07033 10.9667 5.76681 10.6667 5.39585 10.6667H1.34896V1.33333Z"
                                        fill="#D20006" />
                                    <path
                                        d="M11.9046 5.76667L10.0228 3.90667C9.97587 3.85903 9.91564 3.82632 9.84982 3.81271C9.78399 3.7991 9.71555 3.80522 9.65326 3.83028C9.59097 3.85533 9.53766 3.89819 9.50015 3.95337C9.46265 4.00854 9.44265 4.07353 9.44272 4.14V5.33333H4.72136C4.35039 5.33333 4.04688 5.63333 4.04688 6C4.04688 6.36667 4.35039 6.66667 4.72136 6.66667H9.44272V7.86C9.44272 8.16 9.80694 8.30667 10.016 8.09333L11.8978 6.23333C12.0327 6.10667 12.0327 5.89333 11.9046 5.76667Z"
                                        fill="#D20006" />
                                </svg>
                                <div class="log-out-heading">Log Out</div>
                            </div>
                        </div>

                    </div>

                </div>
            </div>

        </div>
        <div>
            <hr>
        </div>
        <nav class="main-nav">
            <ul>
                <li class="nav-item" routerLinkActive="active"[routerLinkActiveOptions]="{ exact: true }" *ngIf="!isRestricted">
                    <a [routerLink]="'/dashboard'">
                        <i class="pi pi-th-large"></i> Dashboard
                    </a>
                </li>
                <li class="nav-item" routerLinkActive="active">
                    <a [routerLink]="'/individual'">
                        <i class="pi pi-users"></i> My Profile
                    </a>
                </li>
                <li class="nav-item" routerLinkActive="active"  *ngIf="!isRestricted && role !='Reporting Manager'">
                    <a [routerLink]="'/employee'">
                        <i class="pi pi-users"></i> Employee
                    </a>
                </li>
                <li class="nav-item" routerLinkActive="active"  *ngIf="!isRestricted">
                    <a [routerLink]="'/recruitment'">
                        <i class="pi pi-user-plus"></i> Recruitment
                    </a>
                </li>
                <li class="nav-item" routerLinkActive="active"  *ngIf="!isRestricted">
                    <a [routerLink]="'/leave'">
                        <i class="pi pi-chart-line"></i> Leaves
                    </a>
                </li>
                <li class="nav-item" routerLinkActive="active"  *ngIf="!isRestricted">
                    <a [routerLink]="'/appraisal'">
                        <i class="pi pi-chart-bar"></i> Appraisal
                    </a>
                </li>
                <li class="nav-item" routerLinkActive="active"  *ngIf="!isRestricted && role !='Reporting Manager'">
                    <a [routerLink]="'/evaluation'">
                        <i class="pi pi-star"></i> Evaluation
                    </a>
                </li>
                <li class="nav-item" routerLinkActive="active" *ngIf="!isRestricted && role !='Reporting Manager'">
                    <a [routerLink]="'/resignation'">
                        <i class="pi pi-users"></i> Resignation
                      </a>
                </li>
            </ul>
            <ul>
                <li class="nav-item" routerLinkActive="active">
                    <a [routerLink]="'/settings'">
                        <i class="pi pi-cog"></i> Settings
                    </a>
                </li>
                <li class="nav-item">
                    <i class="pi pi-bars"></i> More Menu
                </li>
            </ul>
        </nav>

    </header>

    <div>
        <hr>
    </div>

    <!-- Submenu
    <nav class="sub-nav">
        <ul>
            <li class="sub-item active">Manage Employees</li>
            <li class="sub-item">Add New Employee</li>
        </ul>
    </nav>
     -->

    <div>
        <app-pop-up class="popup" *ngIf="showLogoutPopup" (logoutConfirmed)="handleLogout()"
            (cancelled)="handleCancel()"></app-pop-up>
    </div>
</div>