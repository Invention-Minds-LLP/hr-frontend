<p-card class="Incident">
  <div class="flex">
    <div class="header">Incident Records</div>

    <!-- Filter -->
   <div class="filter-part">
     <div class="filter" id="filterButton" (click)="toggleFilterDropdown(); $event.stopPropagation()">
      <i class="pi pi-filter"></i>

      <ul class="menu-list" id="filterDropdown" *ngIf="showFilterDropdown">
        <li class="list" *ngFor="let option of filterOptions" (click)="selectFilter(option); $event.stopPropagation()"
          [ngClass]="{ active: selectedFilter?.value === option.value }">
          {{ option.label }}
        </li>
      </ul>
    </div>

    <!-- Search -->
    <p-iconfield>
      <p-inputicon class="pi pi-search"></p-inputicon>
      <input id="searchBox" type="text" pInputText placeholder="Search" (input)="onSearch($event)" />
    </p-iconfield>

   </div>
  </div>

  <p-table [value]="filteredIncidents" [paginator]="true" [rows]="10">

    <ng-template pTemplate="header">
      <tr>
        <th>No</th>
        <th>Title</th>
        <th>Description</th>
        <th>Employee</th>
        <th>Reporter</th>
        <th>Status</th>
        <th style="text-align: center;">Date</th>
      </tr>
    </ng-template>

    <ng-template pTemplate="body" let-row let-i="rowIndex">
      <tr>
        <td>{{ i + 1 }}</td>
        <td>{{ row.title }}</td>
        <td style="cursor: pointer;">
          <span pTooltip="{{row.description}}" tooltipPosition="top">
            {{row.description}}
          </span>
        </td>
        <td>{{ row.employee?.firstName }} {{ row.employee?.lastName }}</td>
        <td>{{ row.reporter?.firstName }} {{ row.reporter?.lastName }}</td>
        <td>{{ row.status }}</td>
        <td>{{ row.createdAt | date:'medium' }}</td>
      </tr>
    </ng-template>

  </p-table>

</p-card>